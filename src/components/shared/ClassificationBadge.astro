---
/**
 * Classification badge component
 * Displays classification with color coding
 */

import type { Classification } from '../../types/analysis';

interface Props {
  classification: Classification;
  size?: 'sm' | 'md' | 'lg';
}

const { classification, size = 'md' } = Astro.props;

// Format label (remove underscore)
const rawLabel = classification.replace('_', ' ');
const label = rawLabel
  .split(' ')
  .map(part => part.charAt(0) + part.slice(1).toLowerCase())
  .join(' ');

// Color schemes
const colors: Record<Classification, { bg: string; text: string; border: string }> = {
  FULL_DISCLOSURE: {
    bg: 'bg-emerald-500/15',
    text: 'text-emerald-200',
    border: 'border-emerald-400/40'
  },
  PARTIAL: {
    bg: 'bg-amber-500/20',
    text: 'text-amber-200',
    border: 'border-amber-400/30'
  },
  UNCLEAR: {
    bg: 'bg-sky-500/15',
    text: 'text-sky-200',
    border: 'border-sky-400/30'
  },
  NO_DISCLOSURE: {
    bg: 'bg-rose-500/15',
    text: 'text-rose-200',
    border: 'border-rose-400/30'
  }
};

// Size classes
const sizeClasses = {
  sm: 'text-xs px-2 py-0.5',
  md: 'text-sm px-2.5 py-1',
  lg: 'text-base px-3 py-1.5'
};

const colorScheme = colors[classification];
---

<span
  class:list={[
    'inline-flex items-center rounded-md font-medium border transition-all duration-200',
    colorScheme.bg,
    colorScheme.text,
    colorScheme.border,
    sizeClasses[size]
  ]}
  role="status"
  aria-label={`Classification: ${label}`}
  title={`Classification: ${label}`}
>
  <span>{label}</span>
</span>

